const r="sluggi-redirect-choice";class a{constructor(){document.addEventListener("typo3:redirects:slugChanged",e=>this.onSlugChanged(e),!0)}static storeChoice(e,t){localStorage.setItem(r,JSON.stringify({pageId:e,createRedirects:t,timestamp:Date.now()}))}static getAndClearChoice(){const e=localStorage.getItem(r);if(!e)return null;localStorage.removeItem(r);try{const t=JSON.parse(e);return Date.now()-t.timestamp>3e4?null:t}catch{return null}}onSlugChanged(e){var o;const t=a.getAndClearChoice();t&&!t.createRedirects&&((o=e.detail)!=null&&o.autoCreateRedirects)&&(e.detail.autoCreateRedirects=!1)}}const c=new a;export{a as RedirectNotificationHandler,c as default};
//# sourceMappingURL=redirect-notification-handler.js.map
